module.exports = function(client) {
	var http = require('http');
	client.on('command:rfc', function(s, t, p) {
		var n = parseInt(p[0]);
		http.get('http://www.rfc-editor.org/rfc/rfc' + n + '.txt', function(res) {
			if(res.statusCode === 404) {
				return client.reply(s, t, '[RFC' + n + '] Az akkuntkrokodil megette az RFC-t! (404)');
			}
			var data = '';
			res.on('data', function(d) {
				data += d;
			});
			res.on('end', function() {
				var m = data.match(/(\w.*?)(\r|\n)+Status of this Memo/i);
				if(m) return client.reply(s, t, '[RFC' + n + '] ' + m[1]);
			})
		})
	})
}