module.exports=function(client){
	function doLog(type,label,msg){
		var date=new Date();
		var dateStr='['+date.getFullYear()+'.'+
			(date.getMonth()<9?'0':'')+(date.getMonth()+1)+'.'+
			(date.getDate()<10?'0':'')+date.getDate()+'. '+
			(date.getHours()<10?'0':'')+date.getHours()+':'+
			(date.getMinutes()<10?'0':'')+date.getMinutes()+':'+
			(date.getSeconds()<10?'0':'')+date.getSeconds()+'.'+
			(date.getMilliseconds()<10?'00':(date.getMilliseconds()<100?'0':''))+date.getMilliseconds()+']';
		msg=msg.replace(/\r\n/g,'\\r\\n');
		var data=dateStr+'['+type+']['+label+'] '+msg;
		console.log(data);
	}
	var map=['log','warn','error'];
	map.forEach(function(e){
		client[e]=function(label,msg){
			if(!msg){
				return doLog(e,'',label);
			}
			doLog(e,label,msg);
		}
	})
}